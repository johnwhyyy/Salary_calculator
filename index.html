<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.0.0"></script>
</head>
<body>
    <div class="container">
        <h1>GUMC New Incentivized Plan Faculty Salary Calculator</h1>
        <p id="privacyNote" style="display: block; color: rgb(13, 103, 228); text-align: center;">Your response is not recorded. No one but yourself has access to the information you fill in.</p>
        <form id="salaryForm">
            <label for="rank">Current Rank:</label>
            <select id="rank" name="rank" required>
                <option value="Assistant Professor">Assistant Professor</option>
                <option value="Associate Professor">Associate Professor</option>
                <option value="Professor">Professor</option>
            </select>

            <label for="tenureStatus">Tenure Status:</label>
            <select id="tenureStatus" name="tenureStatus" required>
                <option value="Tenured">Tenured</option>
                <option value="Tenure-eligible">Tenure-eligible</option>
            </select>

            <label for="annualSalary">Current Annual Salary ($):</label>
            <input type="number" id="annualSalary" name="annualSalary" required>

            <label for="effortCoverage">Latest Effort Coverage (%):</label>
            <input type="number" id="effortCoverage" name="effortCoverage" required>
            <button type="button" id="calculateButton">Calculate</button>
        </form>
        
        <p id="hoverNote" style="display: none; color: rgb(13, 103, 228); text-align: center;">Please hover over the points on the charts to view the exact salary</p>
        <p id="incentivizedPlanMessage" style="display: none; color: rgb(13, 103, 228); text-align: center;"></p>

        <div id="results" style="display: none;">
            <div class="results-container">
                <div class="chart-container">
                    <h2 id="currentRankHeading">Salary Under Incentivized Plan VS. Legacy Plan (At Current Rank)</h2>
                    <canvas id="incentivizedChart"></canvas>
                </div>
                <div class="table-container">
                    <table id="dataTable" class="data-table"></table>
                    <br>
                </div>
            </div>
            <div id="nextRankResults" style="display: none;">
                <div class="results-container">
                    <div class="chart-container">
                        <h2 id="nextRankHeading">Salary Under Incentivized Plan VS. Legacy Plan (At Next Rank)</h2>
                        <canvas id="nextRankChart"></canvas>
                    </div>
                    <div class="table-container">
                        <table id="nextDataTable" class="data-table"></table>
                        <br>
                    </div>
                </div>
            </div>
            <button id="nextRankButton" style="display: none;">Click to view your salary when you are promoted to the next rank</button>
            <br>
            <button id="resetButton" style="display: none;">Reset and Recalculate</button>
            <br>
            <button id="showProjectionButton" style="display: none;">Advanced 10-year Projection</button>
        </div>
        <div id="projectionPanel" style="display: none;">
            <!-- Projection Form -->
            <div id="projectionForm">
                <h2>Projection of Earnings Over the Next 10 Years</h2>
                <br>
                <form id="projectionFormElements">
                    <div class="projection-header">
                        <span>Year</span>
                        <span>Coverage %</span>
                        <span>Assume Getting Promoted This Year</span>
                    </div>
                </form>
                <button id="calculateProjectionButton" type="button">Calculate Projection</button>
            </div>

             <!-- Projection Chart -->
             <div id="projectionChart" style="display: none">
                <h2>Multi-year Salary Projection</h2>
                <canvas id="projectionChartCanvas"></canvas>
            </div>

             <!-- Difference Chart -->
            <div id="differenceChart" style="display: none">
                <h2>Difference between Legacy and Projected Incentived Plan Salary</h2>
                <canvas id="differenceChartCanvas"></canvas>
            </div>

            <!-- Projection Table -->
            <div id="projectionTable" style="display: none;">
                <h2>Projection Table</h2>
                <table id="projectionTableContent"></table>
            </div>
            <br>
            <button id="resetProjectionButton" type="button" style="display: none;" >Reset Assumptions</button>
            <br>
            <button id="backToResultsButton" type="button" style="display: none;">Go Back to This Year's Result</button>
        </div>
    </div>

    <script type="module" src="salaryCalculator.js"></script>
</body>
</html>
